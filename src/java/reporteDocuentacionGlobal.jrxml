<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="null" language="groovy" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="8c2aeef0-cc31-4143-969d-2554d0ac9f4d">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="Title" fontName="Serif" fontSize="26" isBold="true" pdfFontName="Helvetica-Bold"/>
	<style name="SubTitle" forecolor="#666666" fontName="Serif" fontSize="18"/>
	<style name="Column header" forecolor="#666666" fontName="Serif" fontSize="12" isBold="true"/>
	<style name="Detail" fontName="Serif" fontSize="12"/>
	<parameter name="anio" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[2017]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
     usuario.`nombres` AS usuario_nombres,
     tipo_documento.`nombre` AS tipo_documento_nombre,
     documentacion.`doc_fecha_registro` AS documentacion_doc_fecha_registro,
     documentacion.`doc_creditos` AS documentacion_doc_creditos
FROM
     `estudiante` estudiante INNER JOIN `documentacion` documentacion ON estudiante.`est_id` = documentacion.`est_id`
     INNER JOIN `usuario` usuario ON estudiante.`usu_id` = usuario.`usu_id`
     INNER JOIN `tipo_documento` tipo_documento ON documentacion.`id_tipo_documentacion` = tipo_documento.`identificador`
WHERE
     YEAR(documentacion.`doc_fecha_registro`) = $P{anio}
ORDER BY tipo_documento_nombre]]>
	</queryString>
	<field name="usuario_nombres" class="java.lang.String"/>
	<field name="tipo_documento_nombre" class="java.lang.String"/>
	<field name="documentacion_doc_fecha_registro" class="java.sql.Date"/>
	<field name="documentacion_doc_creditos" class="java.lang.Integer"/>
	<variable name="tipo_documento_nombre_1" class="java.lang.Integer" resetType="Column" calculation="Count">
		<variableExpression><![CDATA[$F{tipo_documento_nombre}]]></variableExpression>
	</variable>
	<group name="grupo_tipo_documentacion">
		<groupExpression><![CDATA[$F{tipo_documento_nombre}]]></groupExpression>
		<groupHeader>
			<band height="34">
				<textField>
					<reportElement mode="Opaque" x="0" y="0" width="555" height="34" forecolor="#3333FF" backcolor="#CCCCCC" uuid="d8fd65e3-8dfc-4bca-a73b-15e825dbc81d"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="18" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{tipo_documento_nombre}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="5"/>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="121" splitType="Stretch">
			<frame>
				<reportElement mode="Opaque" x="0" y="0" width="555" height="92" backcolor="#006699" uuid="5e917349-198d-4344-a191-7f732be062c2"/>
				<staticText>
					<reportElement x="20" y="20" width="285" height="43" forecolor="#FFFFFF" uuid="66790422-029d-4d8e-bb67-60855dbcd720"/>
					<textElement>
						<font size="24" isBold="true"/>
					</textElement>
					<text><![CDATA[REPORTE GLOBAL]]></text>
				</staticText>
			</frame>
			<image>
				<reportElement x="264" y="0" width="468" height="92" uuid="66f8ec40-4534-45c0-9202-7c613c5c1a0b"/>
				<imageExpression><![CDATA["/home/debian/Documentos/proyecto2/SGDPosgrados/ProyectoII_reforma_DB/src/java/leaf_banner_violet.png"]]></imageExpression>
			</image>
		</band>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="20" splitType="Stretch">
			<staticText>
				<reportElement x="388" y="0" width="100" height="20" uuid="9bc57958-1107-435d-82df-ee8676fd0233"/>
				<text><![CDATA[documentacion_doc_creditos]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="0" width="100" height="20" uuid="4fc51dfb-602a-4e26-8030-05a04e4c14e7"/>
				<text><![CDATA[nombres]]></text>
			</staticText>
			<staticText>
				<reportElement x="249" y="0" width="100" height="20" uuid="0a128139-fb83-4555-adc6-39b1a3837b0f"/>
				<text><![CDATA[documentacion_doc_fecha_registro]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="100" height="20" uuid="0c5b4c39-77e3-483c-88f3-c2939a822e9f"/>
				<textFieldExpression><![CDATA[$F{usuario_nombres}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="249" y="0" width="100" height="20" uuid="cee437ca-c5d7-4376-bf21-840dde063aa0"/>
				<textFieldExpression><![CDATA[$F{documentacion_doc_fecha_registro}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="388" y="0" width="100" height="20" uuid="f306c6ba-029d-4341-90fe-8da7eeb0219d"/>
				<textFieldExpression><![CDATA[$F{documentacion_doc_creditos}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="5" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="20" splitType="Stretch">
			<textField>
				<reportElement style="Column header" x="433" y="0" width="80" height="20" uuid="026456f5-2504-4569-9933-256ab504b898"/>
				<textElement textAlignment="Right">
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement style="Column header" x="513" y="0" width="40" height="20" uuid="74a6355b-c021-4a5d-9cf2-4f0ca6e9cb3d"/>
				<textElement>
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="EEEEE dd MMMMM yyyy">
				<reportElement style="Column header" x="0" y="0" width="197" height="20" uuid="19c8a17b-6b72-476f-91ac-3f719d1bdcf0"/>
				<textElement>
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
